{"version":3,"sources":["../src/GenerateMetadata.ts"],"sourcesContent":["import { PluginMetadataGenerator } from \"@nestjs/cli/lib/compiler/plugins/plugin-metadata-generator.js\";\nimport { ReadonlyVisitor } from \"@nestjs/swagger/dist/plugin/index.js\";\nimport { mkdirSync } from \"fs\";\nimport path from \"path\";\nimport { argv } from \"process\";\n\nmkdirSync(\"./openapi-metadata/gen\", { recursive: true });\nconst watchMode = argv.includes(\"--watch\");\n\nconst generator = new PluginMetadataGenerator();\n\n/*process.chdir(\"../grassroots-shared\");\n\ngenerator.generate({\n  visitors: [\n    new ReadonlyVisitor({\n      introspectComments: true,\n      pathToSource: \"./src\",\n      esmCompatible: true,\n    }),\n  ],\n  outputDir: \"\",\n  filename: \"../openapi-metadata/gen/grassroots-shared-metadata.ts\",\n  watch: watchMode,\n  tsconfigPath: \"./tsconfig.json\",\n});\n/*\nprocess.chdir(\"../\");\n*/\n\nprocess.chdir(\"../grassroots-backend\");\n\ngenerator.generate({\n  visitors: [\n    new ReadonlyVisitor({\n      introspectComments: true,\n      pathToSource: \"./src\",\n      esmCompatible: true,\n      dtoFileNameSuffix: \".dto.ts\",\n    }),\n  ],\n  outputDir: \"\",\n  filename: \"../openapi-metadata/gen/grassroots-backend-metadata.ts\",\n  watch: watchMode,\n  tsconfigPath: \"./tsconfig.formetadata.json\",\n});\n"],"names":["PluginMetadataGenerator","ReadonlyVisitor","mkdirSync","argv","recursive","watchMode","includes","generator","process","chdir","generate","visitors","introspectComments","pathToSource","esmCompatible","dtoFileNameSuffix","outputDir","filename","watch","tsconfigPath"],"mappings":"AAAA,SAASA,uBAAuB,QAAQ,gEAAgE;AACxG,SAASC,eAAe,QAAQ,uCAAuC;AACvE,SAASC,SAAS,QAAQ,KAAK;AAE/B,SAASC,IAAI,QAAQ,UAAU;AAE/BD,UAAU,0BAA0B;IAAEE,WAAW;AAAK;AACtD,IAAMC,YAAYF,KAAKG,QAAQ,CAAC;AAEhC,IAAMC,YAAY,IAAIP;AAEtB;;;;;;;;;;;;;;;;;AAiBA,GAEAQ,QAAQC,KAAK,CAAC;AAEdF,UAAUG,QAAQ,CAAC;IACjBC,UAAU;QACR,IAAIV,gBAAgB;YAClBW,oBAAoB;YACpBC,cAAc;YACdC,eAAe;YACfC,mBAAmB;QACrB;KACD;IACDC,WAAW;IACXC,UAAU;IACVC,OAAOb;IACPc,cAAc;AAChB"}